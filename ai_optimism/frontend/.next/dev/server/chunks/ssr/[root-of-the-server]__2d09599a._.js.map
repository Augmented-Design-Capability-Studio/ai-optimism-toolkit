{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/hongyuw2/git-repo/ai-optimism-toolkit/ai_optimism/frontend/src/contexts/AIProviderContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport type { ReactNode } from 'react';\nimport type { AIProvider } from '../services/ai';\n\nexport type ConnectionStatus = 'disconnected' | 'connecting' | 'connected' | 'error';\n\ninterface AIProviderState {\n    provider: AIProvider | null;\n    model: string | null;\n    apiKey: string | null;\n    endpoint: string | null;\n    status: ConnectionStatus;\n    lastValidated: Date | null;\n    errorMessage: string | null;\n}\n\ninterface AIProviderContextType {\n    state: AIProviderState;\n    connect: (provider: AIProvider, apiKey: string, model: string, endpoint?: string) => Promise<boolean>;\n    disconnect: () => void;\n    isConnected: boolean;\n}\n\nconst AIProviderContext = createContext<AIProviderContextType | undefined>(undefined);\n\nconst STORAGE_KEY = 'ai_provider_config';\n\nexport const AIProviderProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n    const [state, setState] = useState<AIProviderState>({\n        provider: null,\n        model: null,\n        apiKey: null,\n        endpoint: null,\n        status: 'disconnected',\n        lastValidated: null,\n        errorMessage: null,\n    });\n\n    // Load saved configuration from localStorage on mount\n    useEffect(() => {\n        const saved = localStorage.getItem(STORAGE_KEY);\n        if (saved) {\n            try {\n                const config = JSON.parse(saved);\n                setState(prev => ({\n                    ...prev,\n                    provider: config.provider,\n                    model: config.model,\n                    apiKey: config.apiKey,\n                    endpoint: config.endpoint,\n                    // Don't automatically set as connected - require revalidation\n                }));\n            } catch (e) {\n                console.error('Failed to load saved AI provider config:', e);\n            }\n        }\n    }, []);\n\n    const connect = async (provider: AIProvider, apiKey: string, model: string, endpoint?: string): Promise<boolean> => {\n        // Validate API key is not empty\n        if (!apiKey || apiKey.trim() === '') {\n            setState(prev => ({\n                ...prev,\n                status: 'error',\n                errorMessage: 'API key cannot be empty',\n            }));\n            return false;\n        }\n\n        setState(prev => ({\n            ...prev,\n            status: 'connecting',\n            errorMessage: null,\n        }));\n\n        try {\n            // Test the API key by making a simple request to the chat endpoint\n            const testResponse = await fetch('/api/chat', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    apiKey,\n                    provider,\n                    model,\n                    messages: [{ role: 'user', parts: [{ type: 'text', text: 'Hello' }] }],\n                }),\n            });\n\n            if (!testResponse.ok) {\n                const errorData = await testResponse.json().catch(() => ({ error: 'Connection failed' }));\n                setState(prev => ({\n                    ...prev,\n                    status: 'error',\n                    errorMessage: errorData.error || `HTTP ${testResponse.status}`,\n                }));\n                return false;\n            }\n\n            // Connection successful\n            setState(prev => ({\n                ...prev,\n                provider,\n                apiKey,\n                model,\n                endpoint: endpoint || null,\n                status: 'connected',\n                lastValidated: new Date(),\n                errorMessage: null,\n            }));\n\n            // Save to localStorage for persistence (consider encrypting in production)\n            const config = { provider, apiKey, model, endpoint };\n            localStorage.setItem(STORAGE_KEY, JSON.stringify(config));\n            \n            return true;\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Connection failed';\n            setState(prev => ({\n                ...prev,\n                status: 'error',\n                errorMessage,\n            }));\n            return false;\n        }\n    };\n\n    const disconnect = () => {\n        setState({\n            provider: null,\n            model: null,\n            apiKey: null,\n            endpoint: null,\n            status: 'disconnected',\n            lastValidated: null,\n            errorMessage: null,\n        });\n        localStorage.removeItem(STORAGE_KEY);\n    };\n\n    const value: AIProviderContextType = {\n        state,\n        connect,\n        disconnect,\n        isConnected: state.status === 'connected',\n    };\n\n    return (\n        <AIProviderContext.Provider value={value}>\n            {children}\n        </AIProviderContext.Provider>\n    );\n};\n\nexport const useAIProvider = (): AIProviderContextType => {\n    const context = useContext(AIProviderContext);\n    if (context === undefined) {\n        throw new Error('useAIProvider must be used within an AIProviderProvider');\n    }\n    return context;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///Users/hongyuw2/git-repo/ai-optimism-toolkit/ai_optimism/frontend/src/components/ChatPanel.tsx"],"sourcesContent":["'use client';\n\nimport { Box, Paper, TextField, IconButton, Typography, Avatar } from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport { useChat } from '@ai-sdk/react';\nimport { DefaultChatTransport } from 'ai';\nimport { useAIProvider } from '../contexts/AIProviderContext';\nimport { useEffect, useRef, useState, useMemo } from 'react';\n\ninterface ChatPanelProps {\n  onControlsGenerated?: (controls: unknown) => void;\n}\n\nexport function ChatPanel(_props: ChatPanelProps) {\n  const { state } = useAIProvider();\n  const { apiKey, provider, model } = state;\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const [input, setInput] = useState('');\n\n  // Create transport with body containing API key, provider, and model\n  const transport = useMemo(() => {\n    console.log('[ChatPanel] Creating transport with:', { \n      hasApiKey: !!apiKey, \n      provider, \n      model \n    });\n    return new DefaultChatTransport({\n      api: '/api/chat',\n      body: {\n        apiKey,\n        provider,\n        model,\n      },\n    });\n  }, [apiKey, provider, model]);\n\n  // Use useChat with custom transport\n  const { messages, sendMessage, status, error } = useChat({\n    id: 'optimization-chat',\n    transport,\n  });\n  \n  const isLoading = status === 'streaming';\n\n  // Log errors\n  useEffect(() => {\n    if (error) {\n      console.error('[ChatPanel] Chat error:', error);\n    }\n  }, [error]);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!input.trim()) {\n      console.log('[ChatPanel] Empty input, ignoring');\n      return;\n    }\n    if (!apiKey) {\n      console.error('[ChatPanel] No API key - cannot send message');\n      alert('Please connect to an AI provider first');\n      return;\n    }\n    console.log('[ChatPanel] Sending message:', input);\n    sendMessage({ text: input });\n    setInput('');\n  };\n\n  return (\n    <Paper\n      elevation={2}\n      sx={{\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'hidden',\n      }}\n    >\n      {/* Header */}\n      <Box\n        sx={{\n          p: 2,\n          borderBottom: 1,\n          borderColor: 'divider',\n          bgcolor: 'primary.main',\n          color: 'primary.contrastText',\n        }}\n      >\n        <Typography variant=\"h6\" fontWeight=\"bold\">\n          üí¨ Chat Assistant\n        </Typography>\n        <Typography variant=\"caption\">\n          Describe your optimization problem\n        </Typography>\n      </Box>\n\n      {/* Messages */}\n      <Box\n        sx={{\n          flex: 1,\n          overflowY: 'auto',\n          p: 2,\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 2,\n        }}\n      >\n        {/* Welcome message if no messages yet */}\n        {messages.length === 0 && (\n          <Box\n            sx={{\n              display: 'flex',\n              gap: 1,\n              alignItems: 'flex-start',\n            }}\n          >\n            <Avatar\n              sx={{\n                bgcolor: 'secondary.main',\n                width: 32,\n                height: 32,\n              }}\n            >\n              ü§ñ\n            </Avatar>\n            <Paper\n              elevation={1}\n              sx={{\n                p: 2,\n                maxWidth: '80%',\n                bgcolor: 'grey.100',\n              }}\n            >\n              <Typography\n                variant=\"body2\"\n                sx={{\n                  whiteSpace: 'pre-wrap',\n                  wordBreak: 'break-word',\n                }}\n              >\n                {`Welcome to the AI Optimism Toolkit! üëã\n\nI'll help you design your optimization problem. Let's start by understanding what you're trying to optimize.\n\nWhat problem would you like to solve? For example:\n‚Ä¢ Optimize a recipe\n‚Ä¢ Minimize manufacturing costs\n‚Ä¢ Maximize energy efficiency\n‚Ä¢ Design an optimal schedule\n\nDescribe your problem, and I'll help you define variables, constraints, and objectives.`}\n              </Typography>\n            </Paper>\n          </Box>\n        )}\n        \n        {messages.map((message: any) => {\n          // Extract text from parts array (AI SDK v5 format)\n          const textContent = message.parts\n            ?.filter((p: any) => p.type === 'text')\n            .map((p: any) => p.text)\n            .join('') || '';\n          \n          return (\n            <Box\n              key={message.id}\n              sx={{\n                display: 'flex',\n                gap: 1,\n                alignItems: 'flex-start',\n                flexDirection: message.role === 'user' ? 'row-reverse' : 'row',\n              }}\n            >\n              <Avatar\n                sx={{\n                  bgcolor: message.role === 'user' ? 'primary.main' : 'secondary.main',\n                  width: 32,\n                  height: 32,\n                }}\n              >\n                {message.role === 'user' ? 'üë§' : 'ü§ñ'}\n              </Avatar>\n              <Paper\n                elevation={1}\n                sx={{\n                  p: 2,\n                  maxWidth: '80%',\n                  bgcolor: message.role === 'user' ? 'primary.light' : 'grey.100',\n                  color: message.role === 'user' ? 'primary.contrastText' : 'text.primary',\n                }}\n              >\n                <Typography\n                  variant=\"body2\"\n                  sx={{\n                    whiteSpace: 'pre-wrap',\n                    wordBreak: 'break-word',\n                  }}\n                >\n                  {textContent}\n                </Typography>\n              </Paper>\n            </Box>\n          );\n        })}\n        {isLoading && (\n          <Box sx={{ display: 'flex', gap: 1, alignItems: 'center' }}>\n            <Avatar sx={{ bgcolor: 'secondary.main', width: 32, height: 32 }}>\n              ü§ñ\n            </Avatar>\n            <Paper elevation={1} sx={{ p: 2, bgcolor: 'grey.100' }}>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Thinking...\n              </Typography>\n            </Paper>\n          </Box>\n        )}\n        <div ref={messagesEndRef} />\n      </Box>\n\n      {/* Input */}\n      <Box\n        component=\"form\"\n        onSubmit={handleSubmit}\n        sx={{\n          p: 2,\n          borderTop: 1,\n          borderColor: 'divider',\n          display: 'flex',\n          gap: 1,\n        }}\n      >\n        <TextField\n          fullWidth\n          size=\"small\"\n          placeholder=\"Describe your optimization problem...\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          disabled={isLoading || !apiKey}\n        />\n        <IconButton\n          type=\"submit\"\n          color=\"primary\"\n          disabled={isLoading || !input.trim() || !apiKey}\n        >\n          <SendIcon />\n        </IconButton>\n      </Box>\n\n      {!apiKey && (\n        <Box sx={{ p: 2, bgcolor: 'warning.light', textAlign: 'center' }}>\n          <Typography variant=\"caption\" color=\"warning.dark\">\n            Please configure your AI API key in the top right corner\n          </Typography>\n        </Box>\n      )}\n    </Paper>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAaO,SAAS,UAAU,MAAsB;IAC9C,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,sJAAa;IAC/B,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG;IACpC,MAAM,iBAAiB,IAAA,+MAAM,EAAiB;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,qEAAqE;IACrE,MAAM,YAAY,IAAA,gNAAO,EAAC;QACxB,QAAQ,GAAG,CAAC,wCAAwC;YAClD,WAAW,CAAC,CAAC;YACb;YACA;QACF;QACA,OAAO,IAAI,4KAAoB,CAAC;YAC9B,KAAK;YACL,MAAM;gBACJ;gBACA;gBACA;YACF;QACF;IACF,GAAG;QAAC;QAAQ;QAAU;KAAM;IAE5B,oCAAoC;IACpC,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,iKAAO,EAAC;QACvD,IAAI;QACJ;IACF;IAEA,MAAM,YAAY,WAAW;IAE7B,aAAa;IACb,IAAA,kNAAS,EAAC;QACR,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF,GAAG;QAAC;KAAM;IAEV,iDAAiD;IACjD,IAAA,kNAAS,EAAC;QACR,eAAe,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IAC9D,GAAG;QAAC;KAAS;IAEb,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM,IAAI,IAAI;YACjB,QAAQ,GAAG,CAAC;YACZ;QACF;QACA,IAAI,CAAC,QAAQ;YACX,QAAQ,KAAK,CAAC;YACd,MAAM;YACN;QACF;QACA,QAAQ,GAAG,CAAC,gCAAgC;QAC5C,YAAY;YAAE,MAAM;QAAM;QAC1B,SAAS;IACX;IAEA,qBACE,8OAAC,uMAAK;QACJ,WAAW;QACX,IAAI;YACF,QAAQ;YACR,SAAS;YACT,eAAe;YACf,UAAU;QACZ;;0BAGA,8OAAC,+LAAG;gBACF,IAAI;oBACF,GAAG;oBACH,cAAc;oBACd,aAAa;oBACb,SAAS;oBACT,OAAO;gBACT;;kCAEA,8OAAC,2NAAU;wBAAC,SAAQ;wBAAK,YAAW;kCAAO;;;;;;kCAG3C,8OAAC,2NAAU;wBAAC,SAAQ;kCAAU;;;;;;;;;;;;0BAMhC,8OAAC,+LAAG;gBACF,IAAI;oBACF,MAAM;oBACN,WAAW;oBACX,GAAG;oBACH,SAAS;oBACT,eAAe;oBACf,KAAK;gBACP;;oBAGC,SAAS,MAAM,KAAK,mBACnB,8OAAC,+LAAG;wBACF,IAAI;4BACF,SAAS;4BACT,KAAK;4BACL,YAAY;wBACd;;0CAEA,8OAAC,2MAAM;gCACL,IAAI;oCACF,SAAS;oCACT,OAAO;oCACP,QAAQ;gCACV;0CACD;;;;;;0CAGD,8OAAC,uMAAK;gCACJ,WAAW;gCACX,IAAI;oCACF,GAAG;oCACH,UAAU;oCACV,SAAS;gCACX;0CAEA,cAAA,8OAAC,2NAAU;oCACT,SAAQ;oCACR,IAAI;wCACF,YAAY;wCACZ,WAAW;oCACb;8CAEC,CAAC;;;;;;;;;;uFAUqE,CAAC;;;;;;;;;;;;;;;;;oBAM/E,SAAS,GAAG,CAAC,CAAC;wBACb,mDAAmD;wBACnD,MAAM,cAAc,QAAQ,KAAK,EAC7B,OAAO,CAAC,IAAW,EAAE,IAAI,KAAK,QAC/B,IAAI,CAAC,IAAW,EAAE,IAAI,EACtB,KAAK,OAAO;wBAEf,qBACE,8OAAC,+LAAG;4BAEF,IAAI;gCACF,SAAS;gCACT,KAAK;gCACL,YAAY;gCACZ,eAAe,QAAQ,IAAI,KAAK,SAAS,gBAAgB;4BAC3D;;8CAEA,8OAAC,2MAAM;oCACL,IAAI;wCACF,SAAS,QAAQ,IAAI,KAAK,SAAS,iBAAiB;wCACpD,OAAO;wCACP,QAAQ;oCACV;8CAEC,QAAQ,IAAI,KAAK,SAAS,OAAO;;;;;;8CAEpC,8OAAC,uMAAK;oCACJ,WAAW;oCACX,IAAI;wCACF,GAAG;wCACH,UAAU;wCACV,SAAS,QAAQ,IAAI,KAAK,SAAS,kBAAkB;wCACrD,OAAO,QAAQ,IAAI,KAAK,SAAS,yBAAyB;oCAC5D;8CAEA,cAAA,8OAAC,2NAAU;wCACT,SAAQ;wCACR,IAAI;4CACF,YAAY;4CACZ,WAAW;wCACb;kDAEC;;;;;;;;;;;;2BAjCA,QAAQ,EAAE;;;;;oBAsCrB;oBACC,2BACC,8OAAC,+LAAG;wBAAC,IAAI;4BAAE,SAAS;4BAAQ,KAAK;4BAAG,YAAY;wBAAS;;0CACvD,8OAAC,2MAAM;gCAAC,IAAI;oCAAE,SAAS;oCAAkB,OAAO;oCAAI,QAAQ;gCAAG;0CAAG;;;;;;0CAGlE,8OAAC,uMAAK;gCAAC,WAAW;gCAAG,IAAI;oCAAE,GAAG;oCAAG,SAAS;gCAAW;0CACnD,cAAA,8OAAC,2NAAU;oCAAC,SAAQ;oCAAQ,OAAM;8CAAiB;;;;;;;;;;;;;;;;;kCAMzD,8OAAC;wBAAI,KAAK;;;;;;;;;;;;0BAIZ,8OAAC,+LAAG;gBACF,WAAU;gBACV,UAAU;gBACV,IAAI;oBACF,GAAG;oBACH,WAAW;oBACX,aAAa;oBACb,SAAS;oBACT,KAAK;gBACP;;kCAEA,8OAAC,uNAAS;wBACR,SAAS;wBACT,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,UAAU,aAAa,CAAC;;;;;;kCAE1B,8OAAC,2NAAU;wBACT,MAAK;wBACL,OAAM;wBACN,UAAU,aAAa,CAAC,MAAM,IAAI,MAAM,CAAC;kCAEzC,cAAA,8OAAC,oKAAQ;;;;;;;;;;;;;;;;YAIZ,CAAC,wBACA,8OAAC,+LAAG;gBAAC,IAAI;oBAAE,GAAG;oBAAG,SAAS;oBAAiB,WAAW;gBAAS;0BAC7D,cAAA,8OAAC,2NAAU;oBAAC,SAAQ;oBAAU,OAAM;8BAAe;;;;;;;;;;;;;;;;;AAO7D"}},
    {"offset": {"line": 553, "column": 0}, "map": {"version":3,"sources":["file:///Users/hongyuw2/git-repo/ai-optimism-toolkit/ai_optimism/frontend/src/components/ControlsPanel.tsx"],"sourcesContent":["'use client';\n\nimport { Box, Paper, Typography, Tabs, Tab, Slider, TextField, Button, Divider } from '@mui/material';\nimport { useState } from 'react';\nimport Editor from 'react-simple-code-editor';\nimport Prism from 'prismjs';\nimport 'prismjs/components/prism-python';\nimport 'prismjs/themes/prism-tomorrow.css';\n\ninterface Variable {\n  name: string;\n  type: 'continuous' | 'discrete';\n  min: number;\n  max: number;\n  default: number;\n  unit?: string;\n  description: string;\n}\n\ninterface ControlsPanelProps {\n  variables?: Variable[];\n  onVariablesChange?: (variables: Record<string, number>) => void;\n}\n\nexport function ControlsPanel({ variables = [], onVariablesChange }: ControlsPanelProps) {\n  const [tabValue, setTabValue] = useState(0);\n  const [values, setValues] = useState<Record<string, number>>(() => {\n    const initial: Record<string, number> = {};\n    variables.forEach((v) => {\n      initial[v.name] = v.default;\n    });\n    return initial;\n  });\n\n  // Generate Python script from variables\n  const generateScript = () => {\n    const lines = ['# Optimization Variables', ''];\n    variables.forEach((v) => {\n      lines.push(`${v.name} = ${values[v.name]}  # ${v.description}${v.unit ? ` (${v.unit})` : ''}`);\n      lines.push(`# Range: [${v.min}, ${v.max}]`);\n      lines.push('');\n    });\n    return lines.join('\\n');\n  };\n\n  const [script, setScript] = useState(generateScript());\n\n  const handleSliderChange = (name: string) => (_event: Event, newValue: number | number[]) => {\n    const value = Array.isArray(newValue) ? newValue[0] : newValue;\n    const updated = { ...values, [name]: value };\n    setValues(updated);\n    setScript(generateScript());\n    onVariablesChange?.(updated);\n  };\n\n  return (\n    <Paper\n      elevation={2}\n      sx={{\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'hidden',\n      }}\n    >\n      {/* Header */}\n      <Box\n        sx={{\n          p: 2,\n          borderBottom: 1,\n          borderColor: 'divider',\n          bgcolor: 'secondary.main',\n          color: 'secondary.contrastText',\n        }}\n      >\n        <Typography variant=\"h6\" fontWeight=\"bold\">\n          üéõÔ∏è Controls\n        </Typography>\n        <Typography variant=\"caption\">\n          Adjust optimization parameters\n        </Typography>\n      </Box>\n\n      {/* Tabs */}\n      <Tabs value={tabValue} onChange={(_, v) => setTabValue(v)} sx={{ borderBottom: 1, borderColor: 'divider' }}>\n        <Tab label=\"Interactive\" />\n        <Tab label=\"Script\" />\n      </Tabs>\n\n      {/* Content */}\n      <Box sx={{ flex: 1, overflowY: 'auto', p: 2 }}>\n        {tabValue === 0 && (\n          <Box sx={{ display: 'flex', flexDirection: 'column', gap: 3 }}>\n            {variables.length === 0 ? (\n              <Typography variant=\"body2\" color=\"text.secondary\" textAlign=\"center\" sx={{ py: 4 }}>\n                No variables defined yet. Use the chat to describe your optimization problem.\n              </Typography>\n            ) : (\n              variables.map((variable) => (\n                <Box key={variable.name}>\n                  <Typography variant=\"subtitle2\" gutterBottom>\n                    {variable.name}\n                    {variable.unit && (\n                      <Typography component=\"span\" variant=\"caption\" color=\"text.secondary\">\n                        {' '}\n                        ({variable.unit})\n                      </Typography>\n                    )}\n                  </Typography>\n                  <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\" sx={{ mb: 1 }}>\n                    {variable.description}\n                  </Typography>\n                  <Box sx={{ display: 'flex', gap: 2, alignItems: 'center' }}>\n                    <Slider\n                      value={values[variable.name]}\n                      onChange={handleSliderChange(variable.name)}\n                      min={variable.min}\n                      max={variable.max}\n                      step={variable.type === 'discrete' ? 1 : (variable.max - variable.min) / 100}\n                      marks={[\n                        { value: variable.min, label: variable.min.toString() },\n                        { value: variable.max, label: variable.max.toString() },\n                      ]}\n                      valueLabelDisplay=\"auto\"\n                      sx={{ flex: 1 }}\n                    />\n                    <TextField\n                      type=\"number\"\n                      value={values[variable.name]}\n                      onChange={(e) => handleSliderChange(variable.name)(e as any, parseFloat(e.target.value))}\n                      size=\"small\"\n                      sx={{ width: 100 }}\n                      inputProps={{\n                        min: variable.min,\n                        max: variable.max,\n                        step: variable.type === 'discrete' ? 1 : 0.01,\n                      }}\n                    />\n                  </Box>\n                  <Divider sx={{ mt: 2 }} />\n                </Box>\n              ))\n            )}\n          </Box>\n        )}\n\n        {tabValue === 1 && (\n          <Box>\n            <Box\n              sx={{\n                bgcolor: '#1e1e1e',\n                borderRadius: 1,\n                overflow: 'hidden',\n                border: 1,\n                borderColor: 'divider',\n              }}\n            >\n              <Editor\n                value={script}\n                onValueChange={setScript}\n                highlight={(code) => Prism.highlight(code, Prism.languages.python, 'python')}\n                padding={16}\n                style={{\n                  fontFamily: '\"Fira code\", \"Fira Mono\", monospace',\n                  fontSize: 13,\n                  minHeight: 200,\n                  backgroundColor: '#1e1e1e',\n                  color: '#d4d4d4',\n                }}\n              />\n            </Box>\n            <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mt: 1, display: 'block' }}>\n              Edit the script directly or use the interactive controls above\n            </Typography>\n          </Box>\n        )}\n      </Box>\n\n      {/* Actions */}\n      <Box sx={{ p: 2, borderTop: 1, borderColor: 'divider' }}>\n        <Button variant=\"contained\" fullWidth disabled={variables.length === 0}>\n          Apply Changes\n        </Button>\n      </Box>\n    </Paper>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 912, "column": 0}, "map": {"version":3,"sources":["file:///Users/hongyuw2/git-repo/ai-optimism-toolkit/ai_optimism/frontend/src/components/VisualizationPanel.tsx"],"sourcesContent":["'use client';\n\nimport { Box, Paper, Typography, ButtonGroup, Button } from '@mui/material';\nimport { useState } from 'react';\nimport ShowChartIcon from '@mui/icons-material/ShowChart';\nimport GridOnIcon from '@mui/icons-material/GridOn';\nimport ViewInArIcon from '@mui/icons-material/ViewInAr';\n\ntype VizType = 'chart' | 'table' | '3d';\n\ninterface VisualizationPanelProps {\n  data?: unknown;\n}\n\nexport function VisualizationPanel({ data }: VisualizationPanelProps) {\n  const [vizType, setVizType] = useState<VizType>('chart');\n\n  return (\n    <Paper\n      elevation={2}\n      sx={{\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'hidden',\n      }}\n    >\n      {/* Header */}\n      <Box\n        sx={{\n          p: 2,\n          borderBottom: 1,\n          borderColor: 'divider',\n          bgcolor: 'info.main',\n          color: 'info.contrastText',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n        }}\n      >\n        <Box>\n          <Typography variant=\"h6\" fontWeight=\"bold\">\n            üìä Visualization\n          </Typography>\n          <Typography variant=\"caption\">\n            Interactive design space\n          </Typography>\n        </Box>\n        <ButtonGroup size=\"small\" variant=\"outlined\" sx={{ bgcolor: 'white' }}>\n          <Button\n            onClick={() => setVizType('chart')}\n            variant={vizType === 'chart' ? 'contained' : 'outlined'}\n          >\n            <ShowChartIcon fontSize=\"small\" />\n          </Button>\n          <Button\n            onClick={() => setVizType('table')}\n            variant={vizType === 'table' ? 'contained' : 'outlined'}\n          >\n            <GridOnIcon fontSize=\"small\" />\n          </Button>\n          <Button\n            onClick={() => setVizType('3d')}\n            variant={vizType === '3d' ? 'contained' : 'outlined'}\n          >\n            <ViewInArIcon fontSize=\"small\" />\n          </Button>\n        </ButtonGroup>\n      </Box>\n\n      {/* Visualization Area */}\n      <Box\n        sx={{\n          flex: 1,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          p: 3,\n          bgcolor: 'grey.50',\n        }}\n      >\n        {vizType === 'chart' && (\n          <Box textAlign=\"center\">\n            <ShowChartIcon sx={{ fontSize: 80, color: 'text.secondary', mb: 2 }} />\n            <Typography variant=\"h6\" color=\"text.secondary\">\n              Chart Visualization\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Will display optimization design space\n            </Typography>\n            {data !== undefined && data !== null && (\n              <Typography variant=\"caption\" display=\"block\" sx={{ mt: 1 }}>\n                Data loaded\n              </Typography>\n            )}\n          </Box>\n        )}\n\n        {vizType === 'table' && (\n          <Box textAlign=\"center\">\n            <GridOnIcon sx={{ fontSize: 80, color: 'text.secondary', mb: 2 }} />\n            <Typography variant=\"h6\" color=\"text.secondary\">\n              Table View\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Tabular data display\n            </Typography>\n          </Box>\n        )}\n\n        {vizType === '3d' && (\n          <Box textAlign=\"center\">\n            <ViewInArIcon sx={{ fontSize: 80, color: 'text.secondary', mb: 2 }} />\n            <Typography variant=\"h6\" color=\"text.secondary\">\n              3D Visualization\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Interactive 3D design space\n            </Typography>\n          </Box>\n        )}\n      </Box>\n\n      {/* Info Footer */}\n      <Box sx={{ p: 2, borderTop: 1, borderColor: 'divider', bgcolor: 'grey.50' }}>\n        <Typography variant=\"caption\" color=\"text.secondary\">\n          üí° Tip: Click and drag to manipulate design points directly\n        </Typography>\n      </Box>\n    </Paper>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAcO,SAAS,mBAAmB,EAAE,IAAI,EAA2B;IAClE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU;IAEhD,qBACE,8OAAC,uMAAK;QACJ,WAAW;QACX,IAAI;YACF,QAAQ;YACR,SAAS;YACT,eAAe;YACf,UAAU;QACZ;;0BAGA,8OAAC,+LAAG;gBACF,IAAI;oBACF,GAAG;oBACH,cAAc;oBACd,aAAa;oBACb,SAAS;oBACT,OAAO;oBACP,SAAS;oBACT,gBAAgB;oBAChB,YAAY;gBACd;;kCAEA,8OAAC,+LAAG;;0CACF,8OAAC,2NAAU;gCAAC,SAAQ;gCAAK,YAAW;0CAAO;;;;;;0CAG3C,8OAAC,2NAAU;gCAAC,SAAQ;0CAAU;;;;;;;;;;;;kCAIhC,8OAAC,+NAAW;wBAAC,MAAK;wBAAQ,SAAQ;wBAAW,IAAI;4BAAE,SAAS;wBAAQ;;0CAClE,8OAAC,2MAAM;gCACL,SAAS,IAAM,WAAW;gCAC1B,SAAS,YAAY,UAAU,cAAc;0CAE7C,cAAA,8OAAC,yKAAa;oCAAC,UAAS;;;;;;;;;;;0CAE1B,8OAAC,2MAAM;gCACL,SAAS,IAAM,WAAW;gCAC1B,SAAS,YAAY,UAAU,cAAc;0CAE7C,cAAA,8OAAC,sKAAU;oCAAC,UAAS;;;;;;;;;;;0CAEvB,8OAAC,2MAAM;gCACL,SAAS,IAAM,WAAW;gCAC1B,SAAS,YAAY,OAAO,cAAc;0CAE1C,cAAA,8OAAC,wKAAY;oCAAC,UAAS;;;;;;;;;;;;;;;;;;;;;;;0BAM7B,8OAAC,+LAAG;gBACF,IAAI;oBACF,MAAM;oBACN,SAAS;oBACT,YAAY;oBACZ,gBAAgB;oBAChB,GAAG;oBACH,SAAS;gBACX;;oBAEC,YAAY,yBACX,8OAAC,+LAAG;wBAAC,WAAU;;0CACb,8OAAC,yKAAa;gCAAC,IAAI;oCAAE,UAAU;oCAAI,OAAO;oCAAkB,IAAI;gCAAE;;;;;;0CAClE,8OAAC,2NAAU;gCAAC,SAAQ;gCAAK,OAAM;0CAAiB;;;;;;0CAGhD,8OAAC,2NAAU;gCAAC,SAAQ;gCAAQ,OAAM;0CAAiB;;;;;;4BAGlD,SAAS,aAAa,SAAS,sBAC9B,8OAAC,2NAAU;gCAAC,SAAQ;gCAAU,SAAQ;gCAAQ,IAAI;oCAAE,IAAI;gCAAE;0CAAG;;;;;;;;;;;;oBAOlE,YAAY,yBACX,8OAAC,+LAAG;wBAAC,WAAU;;0CACb,8OAAC,sKAAU;gCAAC,IAAI;oCAAE,UAAU;oCAAI,OAAO;oCAAkB,IAAI;gCAAE;;;;;;0CAC/D,8OAAC,2NAAU;gCAAC,SAAQ;gCAAK,OAAM;0CAAiB;;;;;;0CAGhD,8OAAC,2NAAU;gCAAC,SAAQ;gCAAQ,OAAM;0CAAiB;;;;;;;;;;;;oBAMtD,YAAY,sBACX,8OAAC,+LAAG;wBAAC,WAAU;;0CACb,8OAAC,wKAAY;gCAAC,IAAI;oCAAE,UAAU;oCAAI,OAAO;oCAAkB,IAAI;gCAAE;;;;;;0CACjE,8OAAC,2NAAU;gCAAC,SAAQ;gCAAK,OAAM;0CAAiB;;;;;;0CAGhD,8OAAC,2NAAU;gCAAC,SAAQ;gCAAQ,OAAM;0CAAiB;;;;;;;;;;;;;;;;;;0BAQzD,8OAAC,+LAAG;gBAAC,IAAI;oBAAE,GAAG;oBAAG,WAAW;oBAAG,aAAa;oBAAW,SAAS;gBAAU;0BACxE,cAAA,8OAAC,2NAAU;oBAAC,SAAQ;oBAAU,OAAM;8BAAiB;;;;;;;;;;;;;;;;;AAM7D"}},
    {"offset": {"line": 1219, "column": 0}, "map": {"version":3,"sources":["file:///Users/hongyuw2/git-repo/ai-optimism-toolkit/ai_optimism/frontend/src/components/OptimizationPanel.tsx"],"sourcesContent":["'use client';\n\nimport {\n  Box,\n  Paper,\n  Typography,\n  Button,\n  LinearProgress,\n  Chip,\n  Stack,\n  Divider,\n} from '@mui/material';\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\nimport PauseIcon from '@mui/icons-material/Pause';\nimport StopIcon from '@mui/icons-material/Stop';\nimport RestartAltIcon from '@mui/icons-material/RestartAlt';\nimport { useState } from 'react';\n\ntype OptimizationStatus = 'idle' | 'running' | 'paused' | 'completed' | 'error';\n\ninterface OptimizationPanelProps {\n  onStart?: () => void;\n  onPause?: () => void;\n  onStop?: () => void;\n  onReset?: () => void;\n}\n\nexport function OptimizationPanel({ onStart, onPause, onStop, onReset }: OptimizationPanelProps) {\n  const [status, setStatus] = useState<OptimizationStatus>('idle');\n  const [iteration, setIteration] = useState(0);\n  const [maxIterations] = useState(1000);\n  const [bestScore, setBestScore] = useState<number | null>(null);\n  const [logs, setLogs] = useState<string[]>([]);\n\n  const handleStart = () => {\n    setStatus('running');\n    setLogs((prev) => [...prev, `[${new Date().toLocaleTimeString()}] Optimization started`]);\n    // Simulate progress\n    let iter = 0;\n    const interval = setInterval(() => {\n      iter += 10;\n      setIteration(iter);\n      setBestScore(Math.random() * 100);\n      setLogs((prev) => [...prev, `Iteration ${iter}: Score = ${(Math.random() * 100).toFixed(2)}`]);\n      if (iter >= maxIterations) {\n        clearInterval(interval);\n        setStatus('completed');\n        setLogs((prev) => [...prev, `[${new Date().toLocaleTimeString()}] Optimization completed`]);\n      }\n    }, 100);\n    onStart?.();\n  };\n\n  const handlePause = () => {\n    setStatus('paused');\n    setLogs((prev) => [...prev, `[${new Date().toLocaleTimeString()}] Optimization paused`]);\n    onPause?.();\n  };\n\n  const handleStop = () => {\n    setStatus('idle');\n    setLogs((prev) => [...prev, `[${new Date().toLocaleTimeString()}] Optimization stopped`]);\n    onStop?.();\n  };\n\n  const handleReset = () => {\n    setStatus('idle');\n    setIteration(0);\n    setBestScore(null);\n    setLogs([]);\n    onReset?.();\n  };\n\n  const getStatusColor = () => {\n    switch (status) {\n      case 'running':\n        return 'success';\n      case 'paused':\n        return 'warning';\n      case 'completed':\n        return 'info';\n      case 'error':\n        return 'error';\n      default:\n        return 'default';\n    }\n  };\n\n  return (\n    <Paper\n      elevation={2}\n      sx={{\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'hidden',\n      }}\n    >\n      {/* Header */}\n      <Box\n        sx={{\n          p: 2,\n          borderBottom: 1,\n          borderColor: 'divider',\n          bgcolor: 'success.main',\n          color: 'success.contrastText',\n        }}\n      >\n        <Typography variant=\"h6\" fontWeight=\"bold\">\n          ‚ö° Optimization\n        </Typography>\n        <Typography variant=\"caption\">\n          Status & monitoring\n        </Typography>\n      </Box>\n\n      {/* Status */}\n      <Box sx={{ p: 2 }}>\n        <Stack direction=\"row\" spacing={1} alignItems=\"center\" sx={{ mb: 2 }}>\n          <Typography variant=\"subtitle2\">Status:</Typography>\n          <Chip\n            label={status.toUpperCase()}\n            color={getStatusColor()}\n            size=\"small\"\n          />\n        </Stack>\n\n        <Box sx={{ mb: 2 }}>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n            <Typography variant=\"body2\">\n              Iteration: {iteration} / {maxIterations}\n            </Typography>\n            <Typography variant=\"body2\">\n              {((iteration / maxIterations) * 100).toFixed(0)}%\n            </Typography>\n          </Box>\n          <LinearProgress\n            variant=\"determinate\"\n            value={(iteration / maxIterations) * 100}\n            sx={{ height: 8, borderRadius: 1 }}\n          />\n        </Box>\n\n        {bestScore !== null && (\n          <Box\n            sx={{\n              p: 2,\n              bgcolor: 'success.light',\n              borderRadius: 1,\n              mb: 2,\n            }}\n          >\n            <Typography variant=\"caption\" color=\"success.dark\">\n              Best Score\n            </Typography>\n            <Typography variant=\"h4\" color=\"success.dark\" fontWeight=\"bold\">\n              {bestScore.toFixed(4)}\n            </Typography>\n          </Box>\n        )}\n\n        <Divider />\n      </Box>\n\n      {/* Controls */}\n      <Box sx={{ p: 2 }}>\n        <Stack direction=\"row\" spacing={1}>\n          {status === 'idle' || status === 'paused' || status === 'completed' ? (\n            <Button\n              variant=\"contained\"\n              color=\"success\"\n              startIcon={<PlayArrowIcon />}\n              onClick={handleStart}\n              fullWidth\n            >\n              {status === 'paused' ? 'Resume' : 'Start'}\n            </Button>\n          ) : (\n            <Button\n              variant=\"contained\"\n              color=\"warning\"\n              startIcon={<PauseIcon />}\n              onClick={handlePause}\n              fullWidth\n            >\n              Pause\n            </Button>\n          )}\n          <Button\n            variant=\"outlined\"\n            color=\"error\"\n            startIcon={<StopIcon />}\n            onClick={handleStop}\n            disabled={status === 'idle'}\n          >\n            Stop\n          </Button>\n          <Button\n            variant=\"outlined\"\n            startIcon={<RestartAltIcon />}\n            onClick={handleReset}\n          >\n            Reset\n          </Button>\n        </Stack>\n      </Box>\n\n      <Divider />\n\n      {/* Logs */}\n      <Box sx={{ flex: 1, overflowY: 'auto', p: 2 }}>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          üìã Logs\n        </Typography>\n        <Box\n          sx={{\n            fontFamily: 'monospace',\n            fontSize: 12,\n            bgcolor: 'grey.100',\n            p: 1,\n            borderRadius: 1,\n            maxHeight: 200,\n            overflowY: 'auto',\n          }}\n        >\n          {logs.length === 0 ? (\n            <Typography variant=\"caption\" color=\"text.secondary\">\n              No logs yet. Start optimization to see progress.\n            </Typography>\n          ) : (\n            logs.slice(-20).map((log, idx) => (\n              <Box key={idx} sx={{ mb: 0.5 }}>\n                {log}\n              </Box>\n            ))\n          )}\n        </Box>\n      </Box>\n    </Paper>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1647, "column": 0}, "map": {"version":3,"sources":["file:///Users/hongyuw2/git-repo/ai-optimism-toolkit/ai_optimism/frontend/src/components/AIProviderSettings.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport {\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Button,\n    TextField,\n    Select,\n    MenuItem,\n    FormControl,\n    InputLabel,\n    IconButton,\n    InputAdornment,\n    Alert,\n    CircularProgress,\n    Box,\n} from '@mui/material';\nimport { Visibility, VisibilityOff } from '@mui/icons-material';\nimport { useAIProvider } from '../contexts/AIProviderContext';\nimport type { AIProvider, ProvidersResponse } from '../services/ai';\n\ninterface AIProviderSettingsProps {\n    open: boolean;\n    onClose: () => void;\n}\n\nexport const AIProviderSettings: React.FC<AIProviderSettingsProps> = ({ open, onClose }) => {\n    const { state, connect } = useAIProvider();\n    const [provider, setProvider] = useState<AIProvider>('google');\n    const [apiKey, setApiKey] = useState('');\n    const [model, setModel] = useState('');\n    const [endpoint, setEndpoint] = useState('');\n    const [showApiKey, setShowApiKey] = useState(false);\n    const [isConnecting, setIsConnecting] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n    const [success, setSuccess] = useState(false);\n    \n    // Static provider configuration (no backend needed)\n    const staticProviders: ProvidersResponse = {\n        providers: {\n            google: {\n                name: 'Google (Gemini)',\n                models: ['gemini-2.5-flash', 'gemini-2.5-flash-lite', 'gemini-2.0-flash'],\n                requires_api_key: true,\n                endpoint: null,\n            },\n            openai: {\n                name: 'OpenAI',\n                models: ['gpt-4o', 'gpt-4o-mini', 'gpt-4-turbo', 'gpt-3.5-turbo'],\n                requires_api_key: true,\n                endpoint: null,\n            },\n            anthropic: {\n                name: 'Anthropic (Claude)',\n                models: ['claude-3-5-sonnet-20241022', 'claude-3-opus-20240229', 'claude-3-sonnet-20240229'],\n                requires_api_key: true,\n                endpoint: null,\n            },\n            ollama: {\n                name: 'Ollama (Local)',\n                models: ['llama2', 'mistral', 'codellama', 'phi'],\n                requires_api_key: false,\n                endpoint: 'http://localhost:11434',\n            },\n            custom: {\n                name: 'Custom Endpoint',\n                models: ['custom-model'],\n                requires_api_key: true,\n                endpoint: null,\n            },\n        },\n    };\n\n    // Load saved config when dialog opens\n    useEffect(() => {\n        if (open && state.provider) {\n            setProvider(state.provider);\n            setApiKey(state.apiKey || '');\n            setModel(state.model || staticProviders.providers[state.provider]?.models[0] || '');\n            setEndpoint(state.endpoint || '');\n        } else if (open) {\n            // Set default model for initial provider\n            const defaultModel = staticProviders.providers[provider]?.models[0];\n            if (defaultModel && !model) {\n                setModel(defaultModel);\n            }\n        }\n    }, [open, state]);\n\n    // Update default model when provider changes\n    useEffect(() => {\n        const providerInfo = staticProviders.providers[provider];\n        if (providerInfo) {\n            if (providerInfo.models.length > 0 && !model) {\n                setModel(providerInfo.models[0]);\n            }\n            if (providerInfo.endpoint && !endpoint) {\n                setEndpoint(providerInfo.endpoint);\n            }\n        }\n    }, [provider]);\n\n    const handleConnect = async () => {\n        setError(null);\n        setSuccess(false);\n        setIsConnecting(true);\n\n        const connected = await connect(provider, apiKey, model, endpoint || undefined);\n\n        setIsConnecting(false);\n\n        if (connected) {\n            setSuccess(true);\n            setTimeout(() => {\n                onClose();\n                setSuccess(false);\n            }, 1500);\n        } else {\n            setError(state.errorMessage || 'Connection failed');\n        }\n    };\n\n    const requiresApiKey = staticProviders.providers[provider]?.requires_api_key !== false;\n    const requiresEndpoint = provider === 'ollama' || provider === 'custom';\n\n    return (\n        <Dialog open={open} onClose={onClose} maxWidth=\"sm\" fullWidth>\n            <DialogTitle>AI Provider Settings</DialogTitle>\n            <DialogContent>\n                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2, mt: 2 }}>\n                    {/* Security Warning */}\n                    <Alert severity=\"warning\">\n                        API keys are stored locally in your browser. Never share your keys with others.\n                    </Alert>\n\n                    {/* Provider Selection */}\n                    <FormControl fullWidth>\n                        <InputLabel>Provider</InputLabel>\n                        <Select\n                            value={provider}\n                            label=\"Provider\"\n                            onChange={(e) => setProvider(e.target.value as AIProvider)}\n                        >\n                            <MenuItem value=\"google\">Google Gemini</MenuItem>\n                            <MenuItem value=\"openai\" disabled sx={{ color: 'text.disabled' }}>\n                                OpenAI (Not Available)\n                            </MenuItem>\n                            <MenuItem value=\"anthropic\" disabled sx={{ color: 'text.disabled' }}>\n                                Anthropic Claude (Not Available)\n                            </MenuItem>\n                            <MenuItem value=\"ollama\" disabled sx={{ color: 'text.disabled' }}>\n                                Ollama (Not Available)\n                            </MenuItem>\n                            <MenuItem value=\"custom\" disabled sx={{ color: 'text.disabled' }}>\n                                Custom Endpoint (Not Available)\n                            </MenuItem>\n                        </Select>\n                    </FormControl>\n\n                    {/* Model Selection */}\n                    <FormControl fullWidth>\n                        <InputLabel>Model</InputLabel>\n                        <Select\n                            value={model}\n                            label=\"Model\"\n                            onChange={(e) => setModel(e.target.value)}\n                        >\n                            {staticProviders.providers[provider]?.models.map((m: string) => (\n                                <MenuItem key={m} value={m}>{m}</MenuItem>\n                            ))}\n                            {staticProviders.providers[provider]?.models.length === 0 && (\n                                <MenuItem value=\"\">Enter custom model name below</MenuItem>\n                            )}\n                        </Select>\n                    </FormControl>\n\n                    {/* Custom model name if list is empty */}\n                    {staticProviders.providers[provider]?.models.length === 0 && (\n                        <TextField\n                            fullWidth\n                            label=\"Model Name\"\n                            value={model}\n                            onChange={(e) => setModel(e.target.value)}\n                            placeholder=\"e.g., gpt-4\"\n                        />\n                    )}\n\n                    {/* API Key */}\n                    {requiresApiKey && (\n                        <TextField\n                            fullWidth\n                            label=\"API Key\"\n                            type={showApiKey ? 'text' : 'password'}\n                            value={apiKey}\n                            onChange={(e) => setApiKey(e.target.value)}\n                            placeholder={`Enter your ${staticProviders.providers[provider]?.name || 'API'} key`}\n                            InputProps={{\n                                endAdornment: (\n                                    <InputAdornment position=\"end\">\n                                        <IconButton\n                                            onClick={() => setShowApiKey(!showApiKey)}\n                                            edge=\"end\"\n                                        >\n                                            {showApiKey ? <VisibilityOff /> : <Visibility />}\n                                        </IconButton>\n                                    </InputAdornment>\n                                ),\n                            }}\n                        />\n                    )}\n\n                    {/* Endpoint URL */}\n                    {requiresEndpoint && (\n                        <TextField\n                            fullWidth\n                            label=\"Endpoint URL\"\n                            value={endpoint}\n                            onChange={(e) => setEndpoint(e.target.value)}\n                            placeholder={\n                                provider === 'ollama'\n                                    ? 'http://localhost:11434'\n                                    : 'https://your-endpoint.com'\n                            }\n                        />\n                    )}\n\n                    {/* Error Message */}\n                    {error && (\n                        <Alert severity=\"error\">{error}</Alert>\n                    )}\n\n                    {/* Success Message */}\n                    {success && (\n                        <Alert severity=\"success\">Successfully connected!</Alert>\n                    )}\n\n                    {/* Current Status */}\n                    {state.status === 'connected' && (\n                        <Alert severity=\"info\">\n                            Currently connected to {state.provider} - {state.model}\n                        </Alert>\n                    )}\n                </Box>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose}>Cancel</Button>\n                <Button\n                    onClick={handleConnect}\n                    variant=\"contained\"\n                    disabled={\n                        isConnecting ||\n                        !provider ||\n                        !model ||\n                        (requiresApiKey && !apiKey) ||\n                        (requiresEndpoint && !endpoint)\n                    }\n                    startIcon={isConnecting && <CircularProgress size={20} />}\n                >\n                    {isConnecting ? 'Connecting...' : 'Connect'}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2092, "column": 0}, "map": {"version":3,"sources":["file:///Users/hongyuw2/git-repo/ai-optimism-toolkit/ai_optimism/frontend/src/components/AIConnectionStatus.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n    Box,\n    Chip,\n    IconButton,\n    Tooltip,\n} from '@mui/material';\nimport {\n    Settings as SettingsIcon,\n    CheckCircle as CheckCircleIcon,\n    Error as ErrorIcon,\n    Cancel as CancelIcon,\n} from '@mui/icons-material';\nimport { useAIProvider } from '../contexts/AIProviderContext';\nimport { AIProviderSettings } from './AIProviderSettings';\n\nexport const AIConnectionStatus: React.FC = () => {\n    const { state, disconnect, isConnected } = useAIProvider();\n    const [settingsOpen, setSettingsOpen] = useState(false);\n\n    const getStatusColor = () => {\n        switch (state.status) {\n            case 'connected':\n                return 'success';\n            case 'connecting':\n                return 'info';\n            case 'error':\n                return 'error';\n            default:\n                return 'default';\n        }\n    };\n\n    const getStatusIcon = () => {\n        switch (state.status) {\n            case 'connected':\n                return <CheckCircleIcon fontSize=\"small\" />;\n            case 'error':\n                return <ErrorIcon fontSize=\"small\" />;\n            default:\n                return null;\n        }\n    };\n\n    const getStatusLabel = () => {\n        if (isConnected) {\n            return `${state.provider}: ${state.model}`;\n        }\n        if (state.status === 'connecting') {\n            return 'Connecting...';\n        }\n        if (state.status === 'error') {\n            return 'Connection Failed';\n        }\n        return 'No AI Connected';\n    };\n\n    return (\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            <Chip\n                label={getStatusLabel()}\n                color={getStatusColor()}\n                size=\"medium\"\n                icon={getStatusIcon() || undefined}\n                onClick={() => setSettingsOpen(true)}\n                sx={{ \n                    cursor: 'pointer',\n                    fontSize: '0.95rem',\n                    fontWeight: 500,\n                    color: '#ffffff',\n                    '& .MuiChip-label': {\n                        px: 2,\n                    },\n                    '& .MuiChip-icon': {\n                        color: '#ffffff',\n                    },\n                    backgroundColor: state.status === 'connected' ? 'rgba(76, 175, 80, 0.9)' : \n                                   state.status === 'error' ? 'rgba(244, 67, 54, 0.9)' : \n                                   state.status === 'connecting' ? 'rgba(33, 150, 243, 0.9)' : \n                                   'rgba(158, 158, 158, 0.7)',\n                    '&:hover': {\n                        backgroundColor: state.status === 'connected' ? 'rgba(76, 175, 80, 1)' : \n                                       state.status === 'error' ? 'rgba(244, 67, 54, 1)' : \n                                       state.status === 'connecting' ? 'rgba(33, 150, 243, 1)' : \n                                       'rgba(158, 158, 158, 0.9)',\n                    }\n                }}\n            />\n            \n            {isConnected && (\n                <Tooltip title=\"Disconnect\">\n                    <IconButton\n                        size=\"small\"\n                        onClick={disconnect}\n                        sx={{ ml: -0.5 }}\n                    >\n                        <CancelIcon fontSize=\"small\" />\n                    </IconButton>\n                </Tooltip>\n            )}\n\n            {!isConnected && (\n                <Tooltip title=\"AI Settings\">\n                    <IconButton\n                        size=\"small\"\n                        onClick={() => setSettingsOpen(true)}\n                        color=\"primary\"\n                    >\n                        <SettingsIcon fontSize=\"small\" />\n                    </IconButton>\n                </Tooltip>\n            )}\n\n            <AIProviderSettings\n                open={settingsOpen}\n                onClose={() => setSettingsOpen(false)}\n            />\n        </Box>\n    );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAMA;AACA;;;;;;;;;;AAEO,MAAM,qBAA+B;IACxC,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,WAAW,EAAE,GAAG,IAAA,sJAAa;IACxD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,MAAM,iBAAiB;QACnB,OAAQ,MAAM,MAAM;YAChB,KAAK;gBACD,OAAO;YACX,KAAK;gBACD,OAAO;YACX,KAAK;gBACD,OAAO;YACX;gBACI,OAAO;QACf;IACJ;IAEA,MAAM,gBAAgB;QAClB,OAAQ,MAAM,MAAM;YAChB,KAAK;gBACD,qBAAO,8OAAC,2KAAe;oBAAC,UAAS;;;;;;YACrC,KAAK;gBACD,qBAAO,8OAAC,qKAAS;oBAAC,UAAS;;;;;;YAC/B;gBACI,OAAO;QACf;IACJ;IAEA,MAAM,iBAAiB;QACnB,IAAI,aAAa;YACb,OAAO,GAAG,MAAM,QAAQ,CAAC,EAAE,EAAE,MAAM,KAAK,EAAE;QAC9C;QACA,IAAI,MAAM,MAAM,KAAK,cAAc;YAC/B,OAAO;QACX;QACA,IAAI,MAAM,MAAM,KAAK,SAAS;YAC1B,OAAO;QACX;QACA,OAAO;IACX;IAEA,qBACI,8OAAC,+LAAG;QAAC,IAAI;YAAE,SAAS;YAAQ,YAAY;YAAU,KAAK;QAAE;;0BACrD,8OAAC,mMAAI;gBACD,OAAO;gBACP,OAAO;gBACP,MAAK;gBACL,MAAM,mBAAmB;gBACzB,SAAS,IAAM,gBAAgB;gBAC/B,IAAI;oBACA,QAAQ;oBACR,UAAU;oBACV,YAAY;oBACZ,OAAO;oBACP,oBAAoB;wBAChB,IAAI;oBACR;oBACA,mBAAmB;wBACf,OAAO;oBACX;oBACA,iBAAiB,MAAM,MAAM,KAAK,cAAc,2BACjC,MAAM,MAAM,KAAK,UAAU,2BAC3B,MAAM,MAAM,KAAK,eAAe,4BAChC;oBACf,WAAW;wBACP,iBAAiB,MAAM,MAAM,KAAK,cAAc,yBACjC,MAAM,MAAM,KAAK,UAAU,yBAC3B,MAAM,MAAM,KAAK,eAAe,0BAChC;oBACnB;gBACJ;;;;;;YAGH,6BACG,8OAAC,+MAAO;gBAAC,OAAM;0BACX,cAAA,8OAAC,2NAAU;oBACP,MAAK;oBACL,SAAS;oBACT,IAAI;wBAAE,IAAI,CAAC;oBAAI;8BAEf,cAAA,8OAAC,sKAAU;wBAAC,UAAS;;;;;;;;;;;;;;;;YAKhC,CAAC,6BACE,8OAAC,+MAAO;gBAAC,OAAM;0BACX,cAAA,8OAAC,2NAAU;oBACP,MAAK;oBACL,SAAS,IAAM,gBAAgB;oBAC/B,OAAM;8BAEN,cAAA,8OAAC,wKAAY;wBAAC,UAAS;;;;;;;;;;;;;;;;0BAKnC,8OAAC,8JAAkB;gBACf,MAAM;gBACN,SAAS,IAAM,gBAAgB;;;;;;;;;;;;AAI/C"}},
    {"offset": {"line": 2267, "column": 0}, "map": {"version":3,"sources":["file:///Users/hongyuw2/git-repo/ai-optimism-toolkit/ai_optimism/frontend/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { Box, AppBar, Toolbar, Typography } from '@mui/material';\nimport { ChatPanel } from '../src/components/ChatPanel';\nimport { ControlsPanel } from '../src/components/ControlsPanel';\nimport { VisualizationPanel } from '../src/components/VisualizationPanel';\nimport { OptimizationPanel } from '../src/components/OptimizationPanel';\nimport { AIConnectionStatus } from '../src/components/AIConnectionStatus';\n\nexport default function HomePage() {\n  return (\n    <Box sx={{ display: 'flex', flexDirection: 'column', height: '100vh', bgcolor: '#f5f5f5' }}>\n      {/* Top App Bar */}\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Box sx={{ flex: 1 }} />\n          <Typography variant=\"h4\" component=\"h1\" sx={{ fontWeight: 'bold' }}>\n            AI OPTIMISM TOOLKIT\n          </Typography>\n          <Box sx={{ flex: 1, display: 'flex', justifyContent: 'flex-end' }}>\n            <AIConnectionStatus />\n          </Box>\n        </Toolbar>\n      </AppBar>\n\n      {/* 4-Panel Layout */}\n      <Box\n        sx={{\n          flex: 1,\n          display: 'grid',\n          gridTemplateColumns: {\n            xs: '1fr',\n            md: 'repeat(4, 1fr)',\n          },\n          gap: 2,\n          p: 2,\n          overflow: 'hidden',\n        }}\n      >\n        {/* Panel 1: Chat */}\n        <Box sx={{ minHeight: 400 }}>\n          <ChatPanel />\n        </Box>\n\n        {/* Panel 2: Controls */}\n        <Box sx={{ minHeight: 400 }}>\n          <ControlsPanel />\n        </Box>\n\n        {/* Panel 3: Visualization */}\n        <Box sx={{ minHeight: 400 }}>\n          <VisualizationPanel />\n        </Box>\n\n        {/* Panel 4: Optimization */}\n        <Box sx={{ minHeight: 400 }}>\n          <OptimizationPanel />\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACtB,qBACE,8OAAC,+LAAG;QAAC,IAAI;YAAE,SAAS;YAAQ,eAAe;YAAU,QAAQ;YAAS,SAAS;QAAU;;0BAEvF,8OAAC,2MAAM;gBAAC,UAAS;0BACf,cAAA,8OAAC,+MAAO;;sCACN,8OAAC,+LAAG;4BAAC,IAAI;gCAAE,MAAM;4BAAE;;;;;;sCACnB,8OAAC,2NAAU;4BAAC,SAAQ;4BAAK,WAAU;4BAAK,IAAI;gCAAE,YAAY;4BAAO;sCAAG;;;;;;sCAGpE,8OAAC,+LAAG;4BAAC,IAAI;gCAAE,MAAM;gCAAG,SAAS;gCAAQ,gBAAgB;4BAAW;sCAC9D,cAAA,8OAAC,8JAAkB;;;;;;;;;;;;;;;;;;;;;0BAMzB,8OAAC,+LAAG;gBACF,IAAI;oBACF,MAAM;oBACN,SAAS;oBACT,qBAAqB;wBACnB,IAAI;wBACJ,IAAI;oBACN;oBACA,KAAK;oBACL,GAAG;oBACH,UAAU;gBACZ;;kCAGA,8OAAC,+LAAG;wBAAC,IAAI;4BAAE,WAAW;wBAAI;kCACxB,cAAA,8OAAC,4IAAS;;;;;;;;;;kCAIZ,8OAAC,+LAAG;wBAAC,IAAI;4BAAE,WAAW;wBAAI;kCACxB,cAAA,8OAAC,oJAAa;;;;;;;;;;kCAIhB,8OAAC,+LAAG;wBAAC,IAAI;4BAAE,WAAW;wBAAI;kCACxB,cAAA,8OAAC,8JAAkB;;;;;;;;;;kCAIrB,8OAAC,+LAAG;wBAAC,IAAI;4BAAE,WAAW;wBAAI;kCACxB,cAAA,8OAAC,4JAAiB;;;;;;;;;;;;;;;;;;;;;;AAK5B"}}]
}